(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-repair"],{"02bb":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uniLoadMore:a("e2d9").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-data-pickerview"},[e.isCloudDataList?e._e():a("v-uni-scroll-view",{staticClass:"selected-area",attrs:{"scroll-x":"true"}},[a("v-uni-view",{staticClass:"selected-list"},[e._l(e.selected,(function(t,i){return[t.text?a("v-uni-view",{staticClass:"selected-item",class:{"selected-item-active":i==e.selectedIndex},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSelect(i)}}},[a("v-uni-text",[e._v(e._s(t.text))])],1):e._e()]}))],2)],1),a("v-uni-view",{staticClass:"tab-c"},[e._l(e.dataList,(function(t,i){return[i==e.selectedIndex?a("v-uni-scroll-view",{key:i,staticClass:"list",attrs:{"scroll-y":!0}},e._l(t,(function(t,n){return a("v-uni-view",{staticClass:"item",class:{"is-disabled":!!t.disable},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.handleNodeClick(t,i,n)}}},[a("v-uni-text",{staticClass:"item-text"},[e._v(e._s(t[e.map.text]))]),e.selected.length>i&&t[e.map.value]==e.selected[i].value?a("v-uni-view",{staticClass:"check"}):e._e()],1)})),1):e._e()]})),e.loading?a("v-uni-view",{staticClass:"loading-cover"},[a("uni-load-more",{staticClass:"load-more",attrs:{contentText:e.loadMore,status:"loading"}})],1):e._e(),e.errorMessage?a("v-uni-view",{staticClass:"error-message"},[a("v-uni-text",{staticClass:"error-text"},[e._v(e._s(e.errorMessage))])],1):e._e()],2)],1)},r=[]},"0370":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-numbox[data-v-01518b78]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-numbox-btns[data-v-01518b78]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0 8px;background-color:#f5f5f5;cursor:pointer}.uni-numbox__value[data-v-01518b78]{margin:0 2px;background-color:#f5f5f5;width:40px;height:26px;text-align:center;font-size:14px;border-left-width:0;border-right-width:0;color:#333}.uni-numbox__minus[data-v-01518b78]{border-top-left-radius:2px;border-bottom-left-radius:2px}.uni-numbox__plus[data-v-01518b78]{border-top-right-radius:2px;border-bottom-right-radius:2px}.uni-numbox--text[data-v-01518b78]{line-height:20px;font-size:20px;font-weight:300;color:#333}.uni-numbox .uni-numbox--disabled[data-v-01518b78]{color:silver!important;cursor:not-allowed}',""]),e.exports=t},"058a":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uniLoadMore:a("e2d9").default,uniIcons:a("c758").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-data-tree"},[a("v-uni-view",{staticClass:"uni-data-tree-input",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleInput.apply(void 0,arguments)}}},[e._t("default",[a("v-uni-view",{staticClass:"input-value",class:{"input-value-border":e.border}},[e.errorMessage?a("v-uni-text",{staticClass:"selected-area error-text"},[e._v(e._s(e.errorMessage))]):e.loading&&!e.isOpened?a("v-uni-view",{staticClass:"selected-area"},[a("uni-load-more",{staticClass:"load-more",attrs:{contentText:e.loadMore,status:"loading"}})],1):e.inputSelected.length?a("v-uni-scroll-view",{staticClass:"selected-area",attrs:{"scroll-x":"true"}},[a("v-uni-view",{staticClass:"selected-list"},e._l(e.inputSelected,(function(t,i){return a("v-uni-view",{key:i,staticClass:"selected-item"},[a("v-uni-text",{staticClass:"text-color"},[e._v(e._s(t.text))]),i<e.inputSelected.length-1?a("v-uni-text",{staticClass:"input-split-line"},[e._v(e._s(e.split))]):e._e()],1)})),1)],1):a("v-uni-text",{staticClass:"selected-area placeholder"},[e._v(e._s(e.placeholder))]),e.clearIcon&&!e.readonly&&e.inputSelected.length?a("v-uni-view",{staticClass:"icon-clear",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}},[a("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24"}})],1):e._e(),e.clearIcon&&e.inputSelected.length||e.readonly?e._e():a("v-uni-view",{staticClass:"arrow-area"},[a("v-uni-view",{staticClass:"input-arrow"})],1)],1)],{options:e.options,data:e.inputSelected,error:e.errorMessage})],2),e.isOpened?a("v-uni-view",{staticClass:"uni-data-tree-cover",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}}):e._e(),e.isOpened?a("v-uni-view",{staticClass:"uni-data-tree-dialog"},[a("v-uni-view",{staticClass:"uni-popper__arrow"}),a("v-uni-view",{staticClass:"dialog-caption"},[a("v-uni-view",{staticClass:"title-area"},[a("v-uni-text",{staticClass:"dialog-title"},[e._v(e._s(e.popupTitle))])],1),a("v-uni-view",{staticClass:"dialog-close",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClose.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"dialog-close-plus",attrs:{"data-id":"close"}}),a("v-uni-view",{staticClass:"dialog-close-plus dialog-close-rotate",attrs:{"data-id":"close"}})],1)],1),a("data-picker-view",{ref:"pickerView",staticClass:"picker-view",attrs:{localdata:e.localdata,preload:e.preload,collection:e.collection,field:e.field,orderby:e.orderby,where:e.where,"step-searh":e.stepSearh,"self-field":e.selfField,"parent-field":e.parentField,"managed-mode":!0,map:e.map,ellipsis:e.ellipsis},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onchange.apply(void 0,arguments)},datachange:function(t){arguments[0]=t=e.$handleEvent(t),e.ondatachange.apply(void 0,arguments)},nodeclick:function(t){arguments[0]=t=e.$handleEvent(t),e.onnodeclick.apply(void 0,arguments)}},model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}})],1):e._e()],1)},r=[]},"075e":function(e,t,a){"use strict";a.r(t);var i=a("2e50"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a},"1a0e":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addItsmRepTypeSla=function(e){return(0,n.default)({url:"/itfix/itsmRepTypeSla",method:"post",data:e})},t.delItsmRepTypeSla=function(e){return(0,n.default)({url:"/itfix/itsmRepTypeSla/"+e,method:"delete"})},t.getItsmRepTypeSla=function(e){return(0,n.default)({url:"/itfix/itsmRepTypeSla/"+e,method:"get"})},t.likeListItsmRepTypeSla=function(e){return(0,n.default)({url:"/itfix/itsmRepTypeSla/likeList/"+e,method:"get"})},t.listItsmRepTypeSla=function(e){return(0,n.default)({url:"/itfix/itsmRepTypeSla/list",method:"get",params:e})},t.selectLevel1=function(){return(0,n.default)({url:"/itfix/itsmRepTypeSla/selectLevel1",method:"get"})},t.selectRepListByLevel=function(e){return(0,n.default)({url:"/itfix/itsmRepTypeSla/selectRepListByLevel",method:"get",params:{level1:e}})},t.updateItsmRepTypeSla=function(e){return(0,n.default)({url:"/itfix/itsmRepTypeSla",method:"put",data:e})};var n=i(a("30af"))},"1be7":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addData=function(e){return(0,n.default)({url:"/system/dict/data",method:"post",data:e})},t.delData=function(e){return(0,n.default)({url:"/system/dict/data/"+e,method:"delete"})},t.getData=function(e){return(0,n.default)({url:"/system/dict/data/"+e,method:"get"})},t.getDicts=function(e){return(0,n.default)({url:"/system/dict/data/type/"+e,method:"get"})},t.listData=function(e){return(0,n.default)({url:"/system/dict/data/list",method:"get",params:e})},t.updateData=function(e){return(0,n.default)({url:"/system/dict/data",method:"put",data:e})};var n=i(a("30af"))},"1e6b":function(e,t,a){var i=a("21a8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("d15e8ed8",i,!0,{sourceMap:!1,shadowMode:!1})},"21a8":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.uni-data-tree[data-v-78269a91]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative;font-size:14px}.error-text[data-v-78269a91]{color:#dd524d}.input-value[data-v-78269a91]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;font-size:14px;\n  /* line-height: 35px; */padding:0 10px;padding-right:5px;overflow:hidden;height:35px;\nbox-sizing:border-box\n}.input-value-border[data-v-78269a91]{border:1px solid #e5e5e5;border-radius:5px}.selected-area[data-v-78269a91]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.load-more[data-v-78269a91]{\nmargin-right:auto;\n}.selected-list[data-v-78269a91]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap\n  /* padding: 0 5px; */}.selected-item[data-v-78269a91]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n  /* padding: 0 1px; */\nwhite-space:nowrap\n}.text-color[data-v-78269a91]{color:#333}.placeholder[data-v-78269a91]{color:grey;font-size:12px}.input-split-line[data-v-78269a91]{opacity:.5}.arrow-area[data-v-78269a91]{position:relative;width:20px;\nmargin-bottom:5px;margin-left:auto;display:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:center;transform-origin:center}.input-arrow[data-v-78269a91]{width:7px;height:7px;border-left:1px solid #999;border-bottom:1px solid #999}.uni-data-tree-cover[data-v-78269a91]{position:fixed;left:0;top:0;right:0;bottom:0;background-color:rgba(0,0,0,.4);\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;z-index:100}.uni-data-tree-dialog[data-v-78269a91]{position:fixed;left:0;\ntop:20%;\n\n\nright:0;bottom:0;background-color:#fff;border-top-left-radius:10px;border-top-right-radius:10px;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;z-index:102;overflow:hidden;\n}.dialog-caption[data-v-78269a91]{position:relative;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row\n  /* border-bottom: 1px solid #f0f0f0; */}.title-area[data-v-78269a91]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-align:center;-webkit-align-items:center;align-items:center;\nmargin:auto;\npadding:0 10px}.dialog-title[data-v-78269a91]{\n  /* font-weight: bold; */line-height:44px}.dialog-close[data-v-78269a91]{position:absolute;top:0;right:0;bottom:0;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 15px}.dialog-close-plus[data-v-78269a91]{width:16px;height:2px;background-color:#666;border-radius:2px;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.dialog-close-rotate[data-v-78269a91]{position:absolute;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.picker-view[data-v-78269a91]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden}.icon-clear[data-v-78269a91]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}\n@media (min-width:768px){.uni-data-tree-cover[data-v-78269a91]{background-color:initial}.uni-data-tree-dialog[data-v-78269a91]{position:absolute;top:55px;height:auto;min-height:400px;max-height:50vh;background-color:#fff;border:1px solid #ebeef5;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);border-radius:4px;overflow:unset}.dialog-caption[data-v-78269a91]{display:none}.icon-clear[data-v-78269a91]{\n    /* margin-right: 5px; */}}\n\n\n\n/* picker 弹出层通用的指示小三角, todo：扩展至上下左右方向定位 */\n.uni-popper__arrow[data-v-78269a91],\n.uni-popper__arrow[data-v-78269a91]::after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid;border-width:6px}.uni-popper__arrow[data-v-78269a91]{-webkit-filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));top:-6px;left:10%;margin-right:3px;border-top-width:0;border-bottom-color:#ebeef5}.uni-popper__arrow[data-v-78269a91]::after{content:" ";top:1px;margin-left:-6px;border-top-width:0;border-bottom-color:#fff}\n\n',""]),e.exports=t},"22a4":function(e,t,a){"use strict";a.r(t);var i=a("590b"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a},"2cba":function(e,t,a){var i=a("0370");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("73cd542a",i,!0,{sourceMap:!1,shadowMode:!1})},"2e50":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("53ca"));a("fb6a"),a("c740"),a("7db0"),a("d3b7"),a("14d9");var r=i(a("8b75")),o=i(a("47be")),l={name:"UniDataPicker",emits:["popupopened","popupclosed","nodeclick","input","change","update:modelValue"],mixins:[r.default],components:{DataPickerView:o.default},props:{options:{type:[Object,Array],default:function(){return{}}},popupTitle:{type:String,default:"请选择"},placeholder:{type:String,default:"请选择"},heightMobile:{type:String,default:""},readonly:{type:Boolean,default:!1},clearIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!0},split:{type:String,default:"/"},ellipsis:{type:Boolean,default:!0}},data:function(){return{isOpened:!1,inputSelected:[]}},created:function(){var e=this;this.$nextTick((function(){e.load()}))},methods:{clear:function(){this.modelValue=null,this._dispatchEvent([])},onPropsChange:function(){this._treeData=[],this.selectedIndex=0,this.load()},load:function(){var e=this;this.readonly?this._processReadonly(this.localdata,this.dataValue):this.isLocalData?(this.loadData(),this.inputSelected=this.selected.slice(0)):(this.isCloudDataList||this.isCloudDataTree)&&(this.loading=!0,this.getCloudDataValue().then((function(t){e.loading=!1,e.inputSelected=t})).catch((function(t){e.loading=!1,e.errorMessage=t})))},show:function(){var e=this;this.isOpened=!0,setTimeout((function(){e.$refs.pickerView.updateData({treeData:e._treeData,selected:e.selected,selectedIndex:e.selectedIndex})}),200),this.$emit("popupopened")},hide:function(){this.isOpened=!1,this.$emit("popupclosed")},handleInput:function(){this.readonly||this.show()},handleClose:function(e){this.hide()},onnodeclick:function(e){this.$emit("nodeclick",e)},ondatachange:function(e){this._treeData=this.$refs.pickerView._treeData},onchange:function(e){var t=this;this.hide(),this.$nextTick((function(){t.inputSelected=e})),this._dispatchEvent(e)},_processReadonly:function(e,t){var a,i=e.findIndex((function(e){return e.children}));if(i>-1)return Array.isArray(t)?(a=t[t.length-1],"object"===(0,n.default)(a)&&a.value&&(a=a.value)):a=t,void(this.inputSelected=this._findNodePath(a,this.localdata));if(this.hasValue){for(var r=[],o=0;o<t.length;o++){var l=t[o],s=e.find((function(e){return e.value==l}));s&&r.push(s)}r.length&&(this.inputSelected=r)}else this.inputSelected=[]},_filterForArray:function(e,t){for(var a=[],i=0;i<t.length;i++){var n=t[i],r=e.find((function(e){return e.value==n}));r&&a.push(r)}return a},_dispatchEvent:function(e){var t={};if(e.length){for(var a=new Array(e.length),i=0;i<e.length;i++)a[i]=e[i].value;t=e[e.length-1]}else t.value="";this.formItem&&this.formItem.setValue(t.value),this.$emit("input",t.value),this.$emit("update:modelValue",t.value),this.$emit("change",{detail:{value:e}})}}};t.default=l},"35d0":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var i={uniForms:a("01bb").default,uniFormsItem:a("ea92").default,uniDataPicker:a("a906").default,uniEasyinput:a("4586").default,uniDataCheckbox:a("9d11").default,uniNumberBox:a("69b9").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"page-content"},[a("v-uni-view",{staticClass:"form-content"},[a("uni-forms",{ref:"form",attrs:{modelValue:e.formData,rules:e.rules,"label-width":"150rpx","label-align":"right"}},[a("uni-forms-item",{attrs:{label:"報修類型",required:!0,name:"repTypeLevel1"}},[a("uni-data-picker",{attrs:{placeholder:"请选择報修類型","popup-title":"请选择報修類型",localdata:e.level1Option},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickItem.apply(void 0,arguments)}},model:{value:e.formData.repTypeLevel1,callback:function(t){e.$set(e.formData,"repTypeLevel1",t)},expression:"formData.repTypeLevel1"}})],1),a("uni-forms-item",{attrs:{label:"工號",required:!0,name:"empNo"}},[a("uni-easyinput",{attrs:{placeholder:"请输入工號"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.queryInfo.apply(void 0,arguments)}},model:{value:e.formData.empNo,callback:function(t){e.$set(e.formData,"empNo",t)},expression:"formData.empNo"}})],1),a("uni-forms-item",{attrs:{label:"姓名",name:"empName"}},[a("uni-easyinput",{attrs:{placeholder:"请输入姓名"},model:{value:e.formData.empName,callback:function(t){e.$set(e.formData,"empName",t)},expression:"formData.empName"}})],1),a("uni-forms-item",{attrs:{label:"分機號碼",required:!0,name:"telNo"}},[a("uni-easyinput",{attrs:{placeholder:"请输入分機號碼"},model:{value:e.formData.telNo,callback:function(t){e.$set(e.formData,"telNo",t)},expression:"formData.telNo"}})],1),a("uni-forms-item",{attrs:{label:"其他聯繫方式",name:"phone"}},[a("uni-easyinput",{attrs:{placeholder:"请输入其他聯繫方式"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),a("uni-forms-item",{attrs:{label:"所在部門",name:"departmentName"}},[a("uni-easyinput",{attrs:{placeholder:"请输入所在部門"},model:{value:e.formData.departmentName,callback:function(t){e.$set(e.formData,"departmentName",t)},expression:"formData.departmentName"}})],1),a("uni-forms-item",{attrs:{label:"郵件地址",required:!0,name:"email"}},[a("uni-easyinput",{attrs:{placeholder:"请输入郵件地址"},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1),a("uni-forms-item",{attrs:{label:"報修區域",required:!0,name:"houseNo"}},[a("uni-data-picker",{attrs:{placeholder:"请选择報修區域","popup-title":"请选择報修區域",localdata:e.houseTree},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onchange.apply(void 0,arguments)}},model:{value:e.formData.houseNo,callback:function(t){e.$set(e.formData,"houseNo",t)},expression:"formData.houseNo"}})],1),a("uni-forms-item",{attrs:{label:"報修等級",required:!0,name:"slaLevel"}},[a("uni-data-checkbox",{attrs:{localdata:e.slaLevels},model:{value:e.formData.slaLevel,callback:function(t){e.$set(e.formData,"slaLevel",t)},expression:"formData.slaLevel"}})],1),a("uni-forms-item",{attrs:{label:"需求類別",required:!0,name:"repTypeLevel2"}},[a("uni-data-checkbox",{attrs:{localdata:e.repTypeOption},model:{value:e.formData.repTypeLevel2,callback:function(t){e.$set(e.formData,"repTypeLevel2",t)},expression:"formData.repTypeLevel2"}})],1),a("uni-forms-item",{attrs:{label:"數量",required:!0,name:"repNum"}},[a("uni-number-box",{model:{value:e.formData.repNum,callback:function(t){e.$set(e.formData,"repNum",t)},expression:"formData.repNum"}})],1),a("uni-forms-item",{attrs:{label:"需求描述",required:!0,name:"repRemark"}},[a("uni-easyinput",{attrs:{type:"textarea",placeholder:"请输入需求描述"},model:{value:e.formData.repRemark,callback:function(t){e.$set(e.formData,"repRemark",t)},expression:"formData.repRemark"}})],1)],1),a("v-uni-view",{staticClass:"button-group"},[a("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.resetForm.apply(void 0,arguments)}}},[e._v("重置")]),a("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("提交")])],1)],1)],1)],1)},r=[]},"37d9":function(e,t,a){var i=a("d60a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("afd54ef2",i,!0,{sourceMap:!1,shadowMode:!1})},"3fbd":function(e,t,a){"use strict";var i=a("2cba"),n=a.n(i);n.a},"47be":function(e,t,a){"use strict";a.r(t);var i=a("02bb"),n=a("f881");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("9ec9");var o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"dd3cb218",null,!1,i["a"],void 0);t["default"]=l.exports},"55b3":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.page-content[data-v-3f2bf1c2]{padding:20px;box-sizing:border-box;background-color:#fff}.uni-padding-wrap[data-v-3f2bf1c2]{padding:0 20px}.form-content[data-v-3f2bf1c2]{margin-top:30px}.button-group[data-v-3f2bf1c2]{margin-top:15px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}',""]),e.exports=t},"590b":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var i={name:"UniNumberBox",emits:["change","input","update:modelValue","blur","focus"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},background:{type:String,default:"#f5f5f5"},color:{type:String,default:"#333"},disabled:{type:Boolean,default:!1}},data:function(){return{inputValue:0}},watch:{value:function(e){this.inputValue=+e},modelValue:function(e){this.inputValue=+e}},created:function(){1===this.value&&(this.inputValue=+this.modelValue),1===this.modelValue&&(this.inputValue=+this.value)},methods:{_calcValue:function(e){if(!this.disabled){var t=this._getDecimalScale(),a=this.inputValue*t,i=this.step*t;if("minus"===e){if(a-=i,a<this.min*t)return;a>this.max*t&&(a=this.max*t)}if("plus"===e){if(a+=i,a>this.max*t)return;a<this.min*t&&(a=this.min*t)}this.inputValue=(a/t).toFixed(String(t).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue)}},_getDecimalScale:function(){var e=1;return~~this.step!==this.step&&(e=Math.pow(10,String(this.step).split(".")[1].length)),e},_onBlur:function(e){this.$emit("blur",e);var t=e.detail.value;if(isNaN(t))this.inputValue=this.min;else{t=+t,t>this.max?t=this.max:t<this.min&&(t=this.min);var a=this._getDecimalScale();this.inputValue=t.toFixed(String(a).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue)}},_onFocus:function(e){this.$emit("focus",e)}}};t.default=i},"5e9a":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-numbox"},[a("v-uni-view",{staticClass:"uni-numbox__minus uni-numbox-btns",style:{background:e.background},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._calcValue("minus")}}},[a("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":e.inputValue<=e.min||e.disabled},style:{color:e.color}},[e._v("-")])],1),a("v-uni-input",{staticClass:"uni-numbox__value",style:{background:e.background,color:e.color},attrs:{disabled:e.disabled,type:"number"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e._onFocus.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e._onBlur.apply(void 0,arguments)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),a("v-uni-view",{staticClass:"uni-numbox__plus uni-numbox-btns",style:{background:e.background},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._calcValue("plus")}}},[a("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":e.inputValue>=e.max||e.disabled},style:{color:e.color}},[e._v("+")])],1)],1)},n=[]},"69b9":function(e,t,a){"use strict";a.r(t);var i=a("5e9a"),n=a("22a4");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("3fbd");var o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"01518b78",null,!1,i["a"],void 0);t["default"]=l.exports},"7dae":function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fb6a"),a("d3b7"),a("caad"),a("2532");var n=i(a("5c72")),r=i(a("e7ec")),o=a("b972"),l=i(a("5359")),s=a("9154"),u=r.default.baseUrl,d=function(e){var t=!1===(e.headers||{}).isToken;if(e.header=e.header||{},(0,o.getToken)()&&!t&&(e.header["Authorization"]="Bearer "+(0,o.getToken)()),e.params){var a=e.url+"?"+(0,s.tansParams)(e.params);a=a.slice(0,-1),e.url=a}return new Promise((function(t,a){uni.uploadFile({timeout:e.timeout||1e4,url:u+e.url,filePath:e.filePath,name:e.name||"file",header:e.header,formData:e.formData,success:function(e){var i=JSON.parse(e.data),r=i.code||200,o=l.default[r]||i.msg||l.default["default"];200===r?t(i):401==r?((0,s.showConfirm)("登录状态已过期，您可以继续留在该页面，或者重新登录?").then((function(e){e.confirm&&n.default.dispatch("LogOut").then((function(e){uni.reLaunch({url:"/pages/login/login"})}))})),a("无效的会话，或者会话已过期，请重新登录。")):500===r?((0,s.toast)(o),a("500")):200!==r&&((0,s.toast)(o),a(r))},fail:function(e){var t=e.message;"Network Error"==t?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常"),(0,s.toast)(t),a(e)}})}))};t.default=d},"86c0":function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("159b"),a("14d9"),a("99af"),a("fb6a");var i=a("a344"),n=a("1be7"),r=a("1a0e"),o=a("8912"),l=a("ffe9"),s={data:function(){return{formData:{repTypeLevel1:"",empNo:"",telNo:"",empName:"",phone:"",email:"",siteNo:"",areaNo:"",loftNo:"",floorNo:"",houseNo:"",repTypeLevel2:"",repNum:1,repRemark:""},rules:{repTypeLevel1:{rules:[{required:!0,errorMessage:"请選擇報修類別"}]},empNo:{rules:[{required:!0,errorMessage:"请输入工号"}]},telNo:{rules:[{required:!0,errorMessage:"请输入分機號碼"}]},email:{rules:[{required:!0,errorMessage:"请输入郵件地址"}]},houseNo:{rules:[{required:!0,errorMessage:"请输入報修區域"}]},slaLevel:{rules:[{required:!0,errorMessage:"请選擇報修等級"}]},repTypeLevel2:{rules:[{required:!0,errorMessage:"请選擇需求類別"}]},repNum:{rules:[{required:!0,errorMessage:"請輸入報修數量"}]},repRemark:{rules:[{required:!0,errorMessage:"請輸入異常描述"}]}},houseTree:[],slaLevels:[],level1Option:[],current:0,repTypeOption:[]}},onLoad:function(e){this.getAllReleInfo(),this.getDictsOption(),this.getLevel1()},methods:{onClickItem:function(e){this.getRepListByLevel()},onchange:function(e){},getAllReleInfo:function(){var e=this;(0,i.getAllReleInfo)({releType:"house"}).then((function(t){var a=t.data,i=[];a.forEach((function(t){var a={};a.text=t.siteName,a.value=t.siteNo,a.type="site",t.pdAreaList.length>0?a.children=e.getAreaChild(t.siteNo,t.pdAreaList):a.disable=!0,i.push(a)})),e.houseTree=i}))},getAreaChild:function(e,t){var a=this,i=[];return t.length>0&&t.forEach((function(t){var n={};n.text=t.areaName,n.value=e+"-"+t.areaNo,n.type="area",t.pdLoftList.length>0?n.children=a.getLoftChild("".concat(e,"-").concat(t.areaNo),t.pdLoftList):n.disable=!0,i.push(n)})),i},getLoftChild:function(e,t){var a=this,i=[];return t.length>0&&t.forEach((function(t){var n={};n.text=t.loftName,n.value=e+"-"+t.loftNo,n.type="loft",t.pdFloorList.length>0?n.children=a.getFloorChild("".concat(e,"-").concat(t.loftNo),t.pdFloorList):n.disable=!0,i.push(n)})),i},getFloorChild:function(e,t){var a=this,i=[];return t.length>0&&t.forEach((function(t){var n={};n.text=t.floorName,n.value=e+"-"+t.floorNo,n.type="floor",t.pdHouseList.length>0?n.children=a.getHouseChild("".concat(e,"-").concat(t.floorNo),t.pdHouseList):n.disable=!0,i.push(n)})),i},getHouseChild:function(e,t){var a=[];return t.length>0&&t.forEach((function(t){var i={};i.text=t.inDept,i.value=e+"-"+t.houseNo,i.type="house",a.push(i)})),a},getDictsOption:function(){var e=this;(0,n.getDicts)("itsm_fix_sla_level").then((function(t){var a=t.data;e.slaLevels=[],a.forEach((function(t){var a={text:t.dictLabel,value:t.dictValue};e.slaLevels.push(a)}))}))},getLevel1:function(){var e=this;uni.showLoading({title:"加载中"}),(0,r.selectLevel1)().then((function(t){uni.hideLoading();var a=[];t.forEach((function(e){var t={};t.text=e.level1,t.value=e.level1,a.push(t)})),e.level1Option=a,e.formData.repTypeLevel1=e.level1Option[0].value,e.getRepListByLevel()}))},getRepListByLevel:function(){var e=this;(0,r.selectRepListByLevel)(this.formData.repTypeLevel1).then((function(t){e.repTypeOption=[],t.forEach((function(t){var a={text:t.level2,value:t.level2};e.repTypeOption.push(a)}))})).catch((function(e){}))},submit:function(){var e=this;this.$refs["form"].validate().then((function(t){var a=e.formData.houseNo.split("-");e.formData.siteNo=a[0],e.formData.areaNo=a[1],e.formData.loftNo=a[2],e.formData.floorNo=a[3],e.formData.houseNo=a.slice(4,a.length).join("-"),uni.showLoading({title:"提交中"}),(0,l.addRepFixHead)(e.formData).then((function(t){uni.hideLoading(),uni.showToast({title:"報修成功！"}),e.resetForm()}))})).catch((function(e){uni.showToast({title:e})}))},queryInfo:function(){var e=this;this.formData.empNo&&(0,o.getUserInfo)(this.formData.empNo).then((function(t){if(t.data.fix){var a=t.data.fix;e.formData.telNo=a.telNo,e.formData.empName=a.empName,e.formData.phone=a.phone,e.formData.email=a.email,e.formData.departmentName=a.departmentName}else{var i=t.data.user;e.formData.telNo=i.phonenumber,e.formData.empName=i.nickName,e.formData.phone=i.phonenumber,e.formData.email=i.email,e.formData.departmentName=i.departmentName}})).catch((function(t){e.resetForm()}))},resetForm:function(){this.formData.repTypeLevel1="",this.formData.empNo="",this.formData.telNo="",this.formData.empName="",this.formData.phone="",this.formData.email="",this.formData.siteNo="",this.formData.areaNo="",this.formData.loftNo="",this.formData.floorNo="",this.formData.houseNo="",this.formData.departmentName="",this.formData.repTypeLevel2="",this.formData.repNum=1,this.formData.repRemark="",this.formData.slaLevel=""}}};t.default=s},8912:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getUserInfo=function(e){return(0,r.default)({url:"/system/user/getUserInfo/"+e,method:"get"})},t.getUserProfile=function(){return(0,r.default)({url:"/system/user/profile",method:"get"})},t.updateUserProfile=function(e){return(0,r.default)({url:"/system/user/profile",method:"put",data:e})},t.updateUserPwd=function(e,t){var a={oldPassword:e,newPassword:t};return(0,r.default)({url:"/system/user/profile/updatePwd",method:"put",params:a})},t.uploadAvatar=function(e){return(0,n.default)({url:"/system/user/profile/avatar",name:e.name,filePath:e.filePath})};var n=i(a("7dae")),r=i(a("30af"))},"8b75":function(e,t,a){"use strict";(function(e){a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("53ca")),r=i(a("c7eb")),o=i(a("1da1"));a("a9e3"),a("d3b7"),a("14d9"),a("d81d"),a("99af"),a("b64b"),a("498a"),a("4de4");var l={props:{localdata:{type:[Array,Object],default:function(){return[]}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:String,default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:500},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},manual:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return[]}},modelValue:{type:[Array,String,Number],default:function(){return[]}},preload:{type:Boolean,default:!1},stepSearh:{type:Boolean,default:!0},selfField:{type:String,default:""},parentField:{type:String,default:""},multiple:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},data:function(){return{loading:!1,errorMessage:"",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},dataList:[],selected:[],selectedIndex:0,page:{current:this.pageCurrent,size:this.pageSize,count:0}}},computed:{isLocalData:function(){return!this.collection.length},isCloudData:function(){return this.collection.length>0},isCloudDataList:function(){return this.isCloudData&&!this.parentField&&!this.selfField},isCloudDataTree:function(){return this.isCloudData&&this.parentField&&this.selfField},dataValue:function(){var e=Array.isArray(this.modelValue)?this.modelValue.length>0:null!==this.modelValue||void 0!==this.modelValue;return e?this.modelValue:this.value},hasValue:function(){return"number"===typeof this.dataValue||null!=this.dataValue&&this.dataValue.length>0}},created:function(){var e=this;this.$watch((function(){var t=[];return["pageCurrent","pageSize","spaceInfo","value","modelValue","localdata","collection","action","field","orderby","where","getont","getcount","gettree"].forEach((function(a){t.push(e[a])})),t}),(function(t,a){for(var i=2;i<t.length;i++)if(t[i]!=a[i]){!0;break}t[0]!=a[0]&&(e.page.current=e.pageCurrent),e.page.size=e.pageSize,e.onPropsChange()})),this._treeData=[]},methods:{onPropsChange:function(){this._treeData=[]},loadData:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isLocalData?e.loadLocalData():e.isCloudDataList?e.loadCloudDataList():e.isCloudDataTree&&e.loadCloudDataTree();case 1:case"end":return t.stop()}}),t)})))()},loadLocalData:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){var a;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e._treeData=[],e._extractTree(e.localdata,e._treeData),a=e.dataValue,void 0!==a){t.next=5;break}return t.abrupt("return");case 5:Array.isArray(a)&&(a=a[a.length-1],"object"===(0,n.default)(a)&&a[e.map.value]&&(a=a[e.map.value])),e.selected=e._findNodePath(a,e.localdata);case 7:case"end":return t.stop()}}),t)})))()},loadCloudDataList:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){var a,i;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,e.getCommand();case 6:a=t.sent,i=a.result.data,e._treeData=i,e._updateBindData(),e._updateSelected(),e.onDataChange(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](3),e.errorMessage=t.t0;case 17:return t.prev=17,e.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[3,14,17,20]])})))()},loadCloudDataTree:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){var a,i,n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,a={field:e._cloudDataPostField(),where:e._cloudDataTreeWhere()},e.gettree&&(a.startwith="".concat(e.selfField,"=='").concat(e.dataValue,"'")),t.next=8,e.getCommand(a);case 8:i=t.sent,n=i.result.data,e._treeData=n,e._updateBindData(),e._updateSelected(),e.onDataChange(),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),e.errorMessage=t.t0;case 19:return t.prev=19,e.loading=!1,t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))()},loadCloudDataNode:function(e){var t=this;return(0,o.default)((0,r.default)().mark((function a(){var i,n,o;return(0,r.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.loading){a.next=2;break}return a.abrupt("return");case 2:return t.loading=!0,a.prev=3,i={field:t._cloudDataPostField(),where:t._cloudDataNodeWhere()},a.next=7,t.getCommand(i);case 7:n=a.sent,o=n.result.data,e(o),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](3),t.errorMessage=a.t0;case 15:return a.prev=15,t.loading=!1,a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[3,12,15,18]])})))()},getCloudDataValue:function(){return this.isCloudDataList?this.getCloudDataListValue():this.isCloudDataTree?this.getCloudDataTreeValue():void 0},getCloudDataListValue:function(){var e=this,t=[],a=this._getForeignKeyByField();return a&&t.push("".concat(a," == '").concat(this.dataValue,"'")),t=t.join(" || "),this.where&&(t="(".concat(this.where,") && (").concat(t,")")),this.getCommand({field:this._cloudDataPostField(),where:t}).then((function(t){return e.selected=t.result.data,t.result.data}))},getCloudDataTreeValue:function(){var e=this;return this.getCommand({field:this._cloudDataPostField(),getTreePath:{startWith:"".concat(this.selfField,"=='").concat(this.dataValue,"'")}}).then((function(t){var a=[];return e._extractTreePath(t.result.data,a),e.selected=a,a}))},getCommand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.database(this.spaceInfo),i=t.action||this.action;i&&(a=a.action(i));var n=t.collection||this.collection;a=a.collection(n);var r=t.where||this.where;r&&Object.keys(r).length&&(a=a.where(r));var o=t.field||this.field;o&&(a=a.field(o));var l=t.orderby||this.orderby;l&&(a=a.orderBy(l));var s=void 0!==t.pageCurrent?t.pageCurrent:this.page.current,u=void 0!==t.pageSize?t.pageSize:this.page.size,d=void 0!==t.getcount?t.getcount:this.getcount,c=void 0!==t.gettree?t.gettree:this.gettree,f={getCount:d,getTree:c};return t.getTreePath&&(f.getTreePath=t.getTreePath),a=a.skip(u*(s-1)).limit(u).get(f),a},_cloudDataPostField:function(){var e=[this.field];return this.parentField&&e.push("".concat(this.parentField," as parent_value")),e.join(",")},_cloudDataTreeWhere:function(){var e=[],t=this.selected,a=this.parentField;if(a&&e.push("".concat(a," == null || ").concat(a,' == ""')),t.length)for(var i=0;i<t.length-1;i++)e.push("".concat(a," == '").concat(t[i].value,"'"));var n=[];return this.where&&n.push("(".concat(this.where,")")),e.length&&n.push("(".concat(e.join(" || "),")")),n.join(" && ")},_cloudDataNodeWhere:function(){var e=[],t=this.selected;return t.length&&e.push("".concat(this.parentField," == '").concat(t[t.length-1].value,"'")),e=e.join(" || "),this.where?"(".concat(this.where,") && (").concat(e,")"):e},_getWhereByForeignKey:function(){var e=[],t=this._getForeignKeyByField();return t&&e.push("".concat(t," == '").concat(this.dataValue,"'")),this.where?"(".concat(this.where,") && (").concat(e.join(" || "),")"):e.join(" || ")},_getForeignKeyByField:function(){for(var e=this.field.split(","),t=null,a=0;a<e.length;a++){var i=e[a].split("as");if(!(i.length<2)&&"value"===i[1].trim()){t=i[0].trim();break}}return t},_updateBindData:function(e){var t=this._filterData(this._treeData,this.selected),a=t.dataList,i=t.hasNodes,n=!1===this._stepSearh&&!i;return e&&(e.isleaf=n),this.dataList=a,this.selectedIndex=a.length-1,!n&&this.selected.length<a.length&&this.selected.push({value:null,text:"请选择"}),{isleaf:n,hasNodes:i}},_updateSelected:function(){for(var e=this.dataList,t=this.selected,a=this.map.text,i=this.map.value,n=0;n<t.length;n++)for(var r=t[n].value,o=e[n],l=0;l<o.length;l++){var s=o[l];if(s[i]===r){t[n].text=s[a];break}}},_filterData:function(e,t){var a=[],i=!0;a.push(e.filter((function(e){return null===e.parent_value||void 0===e.parent_value||""===e.parent_value})));for(var n=function(n){var r=t[n].value,o=e.filter((function(e){return e.parent_value===r}));o.length?a.push(o):i=!1},r=0;r<t.length;r++)n(r);return{dataList:a,hasNodes:i}},_extractTree:function(e,t,a){for(var i=this.map.value,n=0;n<e.length;n++){var r=e[n],o={};for(var l in r)"children"!==l&&(o[l]=r[l]);null!==a&&void 0!==a&&""!==a&&(o.parent_value=a),t.push(o);var s=r.children;s&&this._extractTree(s,t,r[i])}},_extractTreePath:function(e,t){for(var a=0;a<e.length;a++){var i=e[a],n={};for(var r in i)"children"!==r&&(n[r]=i[r]);t.push(n);var o=i.children;o&&this._extractTreePath(o,t)}},_findNodePath:function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this.map.text,n=this.map.value,r=0;r<t.length;r++){var o=t[r],l=o.children,s=o[i],u=o[n];if(a.push({value:u,text:s}),u===e)return a;if(l){var d=this._findNodePath(e,l,a);if(d.length)return d}a.pop()}return[]}}};t.default=l}).call(this,a("a9ff")["default"])},"8f70":function(e,t,a){"use strict";a.r(t);var i=a("35d0"),n=a("d24e");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("bc71");var o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"3f2bf1c2",null,!1,i["a"],void 0);t["default"]=l.exports},"9ec9":function(e,t,a){"use strict";var i=a("37d9"),n=a.n(i);n.a},a2de:function(e,t,a){var i=a("55b3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("77d5be53",i,!0,{sourceMap:!1,shadowMode:!1})},a344:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addSite=function(e){return(0,n.default)({url:"/itfix/site",method:"post",data:e})},t.delSite=function(e){return(0,n.default)({url:"/itfix/site/"+e,method:"delete"})},t.getAllReleInfo=function(e){return(0,n.default)({url:"/itfix/releInfo/getAllReleInfo",method:"get",params:e})},t.getReleInfo=function(e){return(0,n.default)({url:"/itfix/releInfo/getReleInfo",method:"get",params:e})},t.getSite=function(e){return(0,n.default)({url:"/itfix/site/"+e,method:"get"})},t.likeListSite=function(e){return(0,n.default)({url:"/itfix/site/likeList/"+e,method:"get"})},t.listSite=function(e){return(0,n.default)({url:"/itfix/site/list",method:"get",params:e})},t.updateSite=function(e){return(0,n.default)({url:"/itfix/site",method:"put",data:e})};var n=i(a("30af"))},a906:function(e,t,a){"use strict";a.r(t);var i=a("058a"),n=a("075e");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("e5d9");var o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"78269a91",null,!1,i["a"],void 0);t["default"]=l.exports},b3e9:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("2909"));a("d81d"),a("a434"),a("14d9"),a("fb6a");var r=i(a("8b75")),o={name:"UniDataPickerView",emits:["nodeclick","change","datachange","update:modelValue"],mixins:[r.default],props:{managedMode:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!0}},created:function(){var e=this;this.managedMode||this.$nextTick((function(){e.loadData()}))},methods:{onPropsChange:function(){var e=this;this._treeData=[],this.selectedIndex=0,this.$nextTick((function(){e.loadData()}))},handleSelect:function(e){this.selectedIndex=e},handleNodeClick:function(e,t,a){var i=this;if(!e.disable){var r=this.dataList[t][a],o=r[this.map.text],l=r[this.map.value];if(t<this.selected.length-1?(this.selected.splice(t,this.selected.length-t),this.selected.push({text:o,value:l})):t===this.selected.length-1&&this.selected.splice(t,1,{text:o,value:l}),r.isleaf)this.onSelectedChange(r,r.isleaf);else{var s=this._updateBindData(),u=s.isleaf,d=s.hasNodes;this.isLocalData?this.onSelectedChange(r,!d||u):this.isCloudDataList?this.onSelectedChange(r,!0):this.isCloudDataTree&&(u?this.onSelectedChange(r,r.isleaf):d||this.loadCloudDataNode((function(e){var t;e.length?((t=i._treeData).push.apply(t,(0,n.default)(e)),i._updateBindData(r)):r.isleaf=!0;i.onSelectedChange(r,r.isleaf)})))}}},updateData:function(e){this._treeData=e.treeData,this.selected=e.selected,this._treeData.length?this._updateBindData():this.loadData()},onDataChange:function(){this.$emit("datachange")},onSelectedChange:function(e,t){t&&this._dispatchEvent(),e&&this.$emit("nodeclick",e)},_dispatchEvent:function(){this.$emit("change",this.selected.slice(0))}}};t.default=o},bc71:function(e,t,a){"use strict";var i=a("a2de"),n=a.n(i);n.a},d24e:function(e,t,a){"use strict";a.r(t);var i=a("86c0"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a},d60a:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * uni-app内置的常用样式变量\n */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-data-pickerview[data-v-dd3cb218]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;overflow:hidden;height:100%}.error-text[data-v-dd3cb218]{color:#dd524d}.loading-cover[data-v-dd3cb218]{position:absolute;left:0;top:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.5);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;z-index:1001}.load-more[data-v-dd3cb218]{margin:auto}.error-message[data-v-dd3cb218]{background-color:#fff;position:absolute;left:0;top:0;right:0;bottom:0;padding:15px;opacity:.9;z-index:102}.selected-list[data-v-dd3cb218]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding:0 5px;border-bottom:1px solid #f8f8f8}.selected-item[data-v-dd3cb218]{margin-left:10px;margin-right:10px;padding:12px 0;text-align:center;white-space:nowrap}.selected-item-text-overflow[data-v-dd3cb218]{width:168px;\n  /* fix nvue */overflow:hidden;width:6em;white-space:nowrap;text-overflow:ellipsis;-o-text-overflow:ellipsis}.selected-item-active[data-v-dd3cb218]{border-bottom:2px solid #007aff}.selected-item-text[data-v-dd3cb218]{color:#007aff}.tab-c[data-v-dd3cb218]{position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;overflow:hidden}.list[data-v-dd3cb218]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.item[data-v-dd3cb218]{padding:12px 15px;\n  /* border-bottom: 1px solid #f0f0f0; */display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.is-disabled[data-v-dd3cb218]{opacity:.5}.item-text[data-v-dd3cb218]{\n  /* flex: 1; */color:#333}.item-text-overflow[data-v-dd3cb218]{width:280px;\n  /* fix nvue */overflow:hidden;width:20em;white-space:nowrap;text-overflow:ellipsis;-o-text-overflow:ellipsis}.check[data-v-dd3cb218]{margin-right:5px;border:2px solid #007aff;border-left:0;border-top:0;height:12px;width:6px;-webkit-transform-origin:center;transform-origin:center;-webkit-transition:all .3s;transition:all .3s;-webkit-transform:rotate(45deg);transform:rotate(45deg)}',""]),e.exports=t},e5d9:function(e,t,a){"use strict";var i=a("1e6b"),n=a.n(i);n.a},f881:function(e,t,a){"use strict";a.r(t);var i=a("b3e9"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);t["default"]=n.a},ffe9:function(e,t,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.acceptOrder=function(e){return(0,n.default)({url:"/itfix/repFixHead/acceptOrder/"+e,method:"get"})},t.addRepFixHead=function(e){return(0,n.default)({url:"/itfix/repFixHead",method:"post",data:e})},t.delRepFixHead=function(e){return(0,n.default)({url:"/itfix/repFixHead/"+e,method:"delete"})},t.getRepFixHead=function(e){return(0,n.default)({url:"/itfix/repFixHead/"+e,method:"get"})},t.getorderInfo=function(e){return(0,n.default)({url:"/itfix/repFixHead/queryFixHead/"+e,method:"get"})},t.likeListRepFixHead=function(e){return(0,n.default)({url:"/itfix/repFixHead/likeList/"+e,method:"get"})},t.listRepFixHead=function(e){return(0,n.default)({url:"/itfix/repFixHead/list",method:"get",params:e})},t.queryEngineerOrderList=function(e){return(0,n.default)({url:"/itfix/repFixHead/queryEngineerOrderList",method:"get",params:e})},t.queryQuestFixHead=function(e){return(0,n.default)({url:"/itfix/repFixHead/queryQuestFixHead/"+e,method:"get"})},t.updateRepFixHead=function(e){return(0,n.default)({url:"/itfix/repFixHead",method:"put",data:e})};var n=i(a("30af"))}}]);